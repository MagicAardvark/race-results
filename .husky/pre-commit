#!/usr/bin/env sh
# Check if user is on main branch
CURRENT_BRANCH=$(git branch --show-current)

if [ "$CURRENT_BRANCH" = "main" ] || [ "$CURRENT_BRANCH" = "master" ]; then
    echo "⚠️  WARNING: You are on the '$CURRENT_BRANCH' branch."
    echo "Are you sure you want to commit to this branch? (y/N)"
    read -r response
    case "$response" in
        [yY][eE][sS]|[yY])
            echo "Continuing with commit..."
            ;;
        *)
            echo "Commit cancelled."
            exit 1
            ;;
    esac
fi

pnpm prettier:fix
git add -A
pnpm lint
pnpm test

